{% extends 'core/base.html' %}
{% load static %}

{% block head %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'core/css/lists.css' %}">
<link rel="stylesheet" href="{% static 'core/css/modal.css' %}">
{% endblock %}

{% block content %}
<h1>Movies List</h1>

{% if items %}
<div class="card-grid">
  {% for item in items %}
  <div class="card"
       data-id="{{ item.id }}"
       data-media-type="{{ item.media_type }}"
       data-cover-url="{{ item.cover_url|default:'/static/img/cover_fallback.jpg' }}"
       data-banner-url="{{ item.banner_url|default:'/static/img/banner_fallback.jpg' }}"
       data-title="{{ item.title|escape }}">
       
    <a href="{% url 'tmdb_detail' media_type=item.media_type tmdb_id=item.source_id %}" class="card-link">
      <img src="{{ item.cover_url }}" alt="{{ item.title }}">
      <div class="card-title">{{ item.title }}</div>
    </a>
    <button class="edit-card-btn">â‹¯</button>
  </div>
  {% endfor %}
</div>
{% else %}
<p>No items in your list yet.</p>
{% endif %}

{% include 'core/partials/edit_modal.html' %}
{% endblock %}

{% block script %}
{{ block.super }}
<script src="{% static 'core/js/edit_modal.js' %}"></script>
{% endblock %}
